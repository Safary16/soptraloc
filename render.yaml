services:services:services:services:

  - type: web

    name: soptraloc  - type: web

    env: python

    region: oregon    name: soptraloc  - type: web  - type: web

    plan: free

    branch: main    env: python

    buildCommand: bash build.sh

    startCommand: gunicorn config.wsgi:application --bind 0.0.0.0:$PORT --workers 2 --threads 4 --worker-class gthread --timeout 120 --log-level info    region: oregon    name: soptraloc    name: soptraloc

    envVars:

      - key: PYTHON_VERSION    plan: free

        value: 3.12.6

      - key: SECRET_KEY    branch: main    env: python    env: python

        generateValue: true

      - key: DATABASE_URL    buildCommand: bash build.sh

        fromDatabase:

          name: soptraloc-db    startCommand: gunicorn config.wsgi:application --bind 0.0.0.0:$PORT --workers 2 --threads 4 --worker-class gthread --timeout 120 --log-level info    region: oregon    region: oregon

          property: connectionString

      - key: DJANGO_SETTINGS_MODULE    envVars:

        value: config.settings

      - key: MAPBOX_API_KEY      - key: PYTHON_VERSION    plan: free    plan: free

        value: pk.eyJ1Ijoic2FmYXJ5MTYiLCJhIjoiY21naHlvYTQ5MDNlbDJrbjJjcXRtZGg1YSJ9.WCiyTSY_CCfB02N_Nfx7kg

        value: 3.12.6

databases:

  - name: soptraloc-db      - key: SECRET_KEY    branch: main    branch: main

    databaseName: soptraloc

    user: soptraloc        generateValue: true

    region: oregon

    plan: free      - key: DATABASE_URL    buildCommand: |    buildCommand: bash build.sh


        fromDatabase:

          name: soptraloc-db      pip install --upgrade pip    startCommand: cd soptraloc_system && gunicorn config.wsgi:application --bind 0.0.0.0:$PORT --workers 2 --threads 4 --worker-class gthread --timeout 120 --log-level info

          property: connectionString

      - key: DJANGO_SETTINGS_MODULE      pip install -r requirements.txt    envVars:

        value: config.settings

      - key: MAPBOX_API_KEY      python manage.py collectstatic --no-input      - key: PYTHON_VERSION

        value: pk.eyJ1Ijoic2FmYXJ5MTYiLCJhIjoiY21naHlvYTQ5MDNlbDJrbjJjcXRtZGg1YSJ9.WCiyTSY_CCfB02N_Nfx7kg

      python manage.py migrate --no-input        value: 3.12.6

databases:

  - name: soptraloc-db    startCommand: gunicorn config.wsgi:application --bind 0.0.0.0:$PORT --workers 2 --threads 4 --worker-class gthread --timeout 120      - key: SECRET_KEY

    databaseName: soptraloc

    user: soptraloc    envVars:        generateValue: true

    region: oregon

    plan: free      - key: PYTHON_VERSION      - key: DATABASE_URL


        value: 3.12.6        fromDatabase:

      - key: SECRET_KEY          name: soptraloc-db

        generateValue: true          property: connectionString

      - key: DEBUG      - key: DJANGO_SETTINGS_MODULE

        value: False        value: config.settings_production

      - key: DATABASE_URL      - key: MAPBOX_API_KEY

        fromDatabase:        value: pk.eyJ1Ijoic2FmYXJ5MTYiLCJhIjoiY21naHlvYTQ5MDNlbDJrbjJjcXRtZGg1YSJ9.WCiyTSY_CCfB02N_Nfx7kg

          name: soptraloc-db

          property: connectionStringdatabases:

      - key: DJANGO_SETTINGS_MODULE  - name: soptraloc-db

        value: config.settings    databaseName: soptraloc

      - key: MAPBOX_API_KEY    user: soptraloc

        value: pk.eyJ1Ijoic2FmYXJ5MTYiLCJhIjoiY21naHlvYTQ5MDNlbDJrbjJjcXRtZGg1YSJ9.WCiyTSY_CCfB02N_Nfx7kg    region: oregon

    plan: free

databases:
  - name: soptraloc-db
    databaseName: soptraloc
    user: soptraloc
    region: oregon
    plan: free
